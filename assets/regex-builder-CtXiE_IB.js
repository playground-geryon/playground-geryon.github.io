import{r as c,j as e}from"./vendor-CRMzTT1s.js";import{M as _}from"./monaco-editor-DhOCRkbO.js";import{u as G,P as B,B as h,T as b,S as $,N,O as Z,Q as R,R as w,U as X,Y as P,a as W,bf as Q,n as U,W as V}from"./mui-IYt3SN0d.js";import"./excel-CUMakpxJ.js";import"./tree-sitter-aGyQ8e2w.js";const O=`OrderNo: ORD-2024-0001
Card No: 1234-5678-9012-3456
Tel: 010-1234-5678
Email: user@example.com
Date: 2025-11-17
`,k=s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Y=s=>/[0-9]/.test(s)?"digit":/[A-Za-z]/.test(s)?"alpha":/\s/.test(s)?"space":"other",q=s=>{if(!s)return"";const d=[];for(const l of s){const a=Y(l),i=d[d.length-1];i&&i.type===a?i.chars.push(l):d.push({type:a,chars:[l]})}return d.map(l=>{const a=l.chars.length,i=l.chars[0];switch(l.type){case"digit":return a===1?"\\d":`\\d{${a}}`;case"alpha":return a===1?"[A-Za-z]":`[A-Za-z]{${a}}`;case"space":return a===1?"\\s":`\\s{${a}}`;case"other":return a===1?k(i):l.chars.map(k).join("");default:return k(l.chars.join(""))}}).join("")},J=(s,d)=>{if(!s)return"";let o=0,l="";const a=i=>i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return d.forEach(i=>{i.index>o&&(l+=a(s.slice(o,i.index))),l+=`<mark>${a(s.slice(i.index,i.end))}</mark>`,o=i.end}),o<s.length&&(l+=a(s.slice(o))),l},L=(s,d)=>{const l=s.slice(0,d).split(`
`),a=l.length,i=l[l.length-1].length+1;return{line:a,column:i}},K=()=>{const[s,d]=c.useState(O),[o,l]=c.useState(""),[a,i]=c.useState(!1),[S,v]=c.useState({g:!0,i:!1,m:!1,s:!1,u:!1}),[E,C]=c.useState(null),[u,y]=c.useState([]),[T,f]=c.useState(""),j=c.useRef(null),m=c.useMemo(()=>Object.entries(S).filter(([,t])=>t).map(([t])=>t).join(""),[S]),H=c.useMemo(()=>a?o.replace(/^\^/,""):o,[a,o]);c.useEffect(()=>{if(!H){y([]),C(null);return}try{const t=new RegExp(H,m||void 0),p=[];if(m.includes("g")){let r;for(;(r=t.exec(s))!==null;){const{line:F,column:I}=L(s,r.index);p.push({text:r[0],index:r.index,end:r.index+r[0].length,line:F,column:I}),r[0].length===0&&(t.lastIndex+=1)}}else{const r=t.exec(s);if(r){const{line:F,column:I}=L(s,r.index);p.push({text:r[0],index:r.index,end:r.index+r[0].length,line:F,column:I})}}y(p),C(null)}catch(t){C(t?.message??"정규식 오류"),y([])}},[s,o,m]);const D=c.useMemo(()=>J(s,u),[s,u]);return{input:s,setInput:d,inputRef:j,handleSelectionCapture:()=>{const t=j.current;if(!t)return;const p=t.selectionStart??0,r=t.selectionEnd??0;r>p?f(t.value.slice(p,r)):f("")},selectedText:T,generateFromSelection:()=>{if(!T)return"";const t=q(T);return l(t),t},pattern:o,setPattern:l,allowContains:a,setAllowContains:i,flags:S,toggleFlag:t=>p=>{v(r=>({...r,[t]:p.target.checked}))},setFlags:v,error:E,matches:u,highlightHtml:D,flagString:m,appendToken:t=>{l(p=>p+t)},setSelectedTextDirect:t=>{f(t)}}},A=[{title:"앵커 및 경계",entries:[{syntax:"^",desc:"문자열 혹은 각 줄의 시작 위치와 일치",example:"예: ^Hello 는 Hello 로 시작하는 텍스트 매칭"},{syntax:"$",desc:"문자열 혹은 각 줄의 끝 위치와 일치",example:"예: world$ 는 world 로 끝나는 텍스트 매칭"},{syntax:"^...$",desc:"시작과 끝을 모두 고정해 전체 문자열을 검증",example:"예: ^Hello$ 는 전체 문자열이 정확히 Hello인지 검사"},{syntax:"\\b",desc:"단어 경계",example:"예: \\bcat\\b 는 cat 이라는 단어만 매칭"},{syntax:"\\B",desc:"단어 경계가 아닌 위치",example:"예: \\Bcat\\B 는 문자 사이의 cat"}]},{title:"문자 클래스",entries:[{syntax:".",desc:"임의의 문자 1개 (줄바꿈 제외)",example:"예: a.b 는 a와 b 사이 아무 문자"},{syntax:"\\d",desc:"숫자 문자(0-9)",example:"예: \\d+ 는 연속된 숫자"},{syntax:"\\D",desc:"숫자가 아닌 문자",example:"예: \\D+ 는 연속된 비숫자"},{syntax:"\\w",desc:"알파벳/숫자/언더스코어",example:"예: \\w{3} 는 세 글자의 단어 문자"},{syntax:"\\W",desc:"단어 문자가 아닌 것",example:"예: \\W 는 특수문자나 공백"},{syntax:"\\s",desc:"공백 문자(스페이스, 탭 등)",example:"예: \\s+ 는 연속된 공백"},{syntax:"\\S",desc:"공백이 아닌 문자",example:"예: \\S+ 는 공백이 아닌 문자열"},{syntax:"[abc]",desc:"문자 집합 중 하나",example:"예: gr[ae]y 는 gray 또는 grey"},{syntax:"[^abc]",desc:"집합에 없는 문자",example:"예: [^0-9] 는 숫자가 아닌 문자"}]},{title:"수량자",entries:[{syntax:"*",desc:"앞 패턴을 0회 이상 매칭",example:"예: go* 는 g, go, goo ..."},{syntax:"+",desc:"앞 패턴을 1회 이상 매칭",example:"예: go+ 는 go, goo ..."},{syntax:"?",desc:"앞 패턴을 0 또는 1회 매칭",example:"예: colou?r 는 color 또는 colour"},{syntax:"{n}",desc:"정확히 n회 반복",example:"예: \\d{4} 는 4자리 숫자"},{syntax:"{min,}",desc:"최소 횟수 이상 반복",example:"예: a{2,} 는 최소 aa"},{syntax:"{min,max}",desc:"범위 반복",example:"예: a{2,4} 는 aa, aaa, aaaa"}]},{title:"그룹 및 선택",entries:[{syntax:"(...)",desc:"캡처 그룹",example:"예: (ab)+ 는 ab 반복을 하나의 그룹으로 취급"},{syntax:"(?:...)",desc:"비캡처 그룹",example:"예: (?:http|https) 는 그룹은 만들지만 참조 안함"},{syntax:"|",desc:"선택(OR)",example:"예: apple|orange"},{syntax:"\\1, \\2 ...",desc:"앞선 캡처 그룹 참조",example:"예: (\\w+)\\s\\1 는 동일 단어 두 번"}]},{title:"전방/후방 탐색",entries:[{syntax:"(?=...)",desc:"긍정 전방 탐색: 뒤에 ...가 오는 위치만 허용",example:"예: \\d(?=px) 는 px 앞의 숫자만 매칭"},{syntax:"(?!...)",desc:"부정 전방 탐색: 뒤에 ...가 오지 않는 위치",example:"예: \\d(?!px) 는 px 앞이 아닌 숫자"},{syntax:"(?<=...)",desc:"긍정 후방 탐색: 앞에 ...가 있는 위치",example:"예: (?<=#)\\w+ 는 # 뒤 단어"},{syntax:"(?<!...)",desc:"부정 후방 탐색: 앞에 ...가 없는 위치",example:"예: (?<!#)\\w+ 는 # 앞이 아닌 단어"}]},{title:"플래그",entries:[{syntax:"g",desc:"전체(global) 검색",example:"모든 매칭을 찾음"},{syntax:"i",desc:"대소문자 무시",example:"Cat 와 cat 을 구분하지 않음"},{syntax:"m",desc:"멀티라인",example:"^/$ 가 각 줄 기준으로 동작"},{syntax:"s",desc:"dotall (.) 이 줄바꿈까지 포함",example:".* 가 여러 줄을 통과"},{syntax:"u",desc:"유니코드 모드",example:"유니코드 코드포인트 단위로 매칭"}]}],ae=()=>{const{input:s,setInput:d,selectedText:o,generateFromSelection:l,pattern:a,setPattern:i,setFlags:S,error:v,matches:E,highlightHtml:C,flagString:u,setSelectedTextDirect:y}=K(),T=G(),[f,j]=c.useState(`/${a||""}/${u}`),[m,H]=c.useState(!0),D=n=>{j(n);const g=n.match(/^\/(.*)\/([gimsuy]*)$/);if(g){i(g[1]);const x=g[2];S({g:x.includes("g"),i:x.includes("i"),m:x.includes("m"),s:x.includes("s"),u:x.includes("u")})}else i(n)},M=()=>{const n=`/${a||""}/${u}`;f!==n&&f.match(/^\/(.*)\/([gimsuy]*)$/)&&j(n)};c.useEffect(()=>{M()},[u,a]);const z=()=>{const n=l();n&&j(`/${n}/${u}`),H(!0)};return e.jsx(B,{sx:{p:1.25,display:"flex",flexDirection:"column",gap:1.25,flex:1,height:"100%",maxWidth:"100%",overflow:"hidden"},children:e.jsxs(h,{sx:{flex:1,minHeight:0,width:1,display:"grid",flexDirection:"row",gridTemplateColumns:"360px minmax(0, 1fr)",gap:0,columnGap:1.25},children:[e.jsxs(B,{variant:"outlined",sx:{display:"flex",flexDirection:"column",gap:1,minHeight:685,overflow:"hidden",height:"calc(100vh - 190px)"},children:[e.jsx(h,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1.25,py:1.25,borderBottom:"1px solid",borderColor:"divider"},children:e.jsx(b,{variant:"subtitle1",fontWeight:700,children:"정규식 도움말"})}),e.jsx(h,{sx:{flex:1,minHeight:0,p:1.25,overflow:"hidden",display:"flex",flexDirection:"column"},children:e.jsx(h,{sx:{flex:1,minHeight:0,overflow:"auto"},children:e.jsx($,{spacing:3,children:A.map((n,g)=>e.jsxs(c.Fragment,{children:[e.jsxs(h,{children:[e.jsx(b,{variant:"subtitle2",fontWeight:600,sx:{mb:1},children:n.title}),e.jsxs(N,{size:"small",sx:{"& th, & td":{borderBottom:"none",verticalAlign:"top"}},children:[e.jsx(Z,{children:e.jsxs(R,{children:[e.jsx(w,{sx:{width:120},children:"기호"}),e.jsx(w,{children:"설명"})]})}),e.jsx(X,{children:n.entries.map((x,t)=>e.jsxs(c.Fragment,{children:[e.jsxs(R,{children:[e.jsx(w,{sx:{fontFamily:"monospace",fontWeight:600},children:x.syntax}),e.jsx(w,{children:x.desc})]}),e.jsx(R,{children:e.jsx(w,{colSpan:2,sx:{pb:.25},children:e.jsxs(b,{variant:"caption",color:"text.secondary",children:["예시: ",x.example]})})}),t<n.entries.length-1&&e.jsx(R,{children:e.jsx(w,{colSpan:2,sx:{py:.25},children:e.jsx(P,{})})})]},`${n.title}-${x.syntax}`))})]})]}),g<A.length-1&&e.jsx(P,{sx:{my:1.25}})]},n.title))})})})]}),e.jsxs(B,{variant:"outlined",sx:{flex:1,minWidth:0,display:"flex",flexDirection:"column",gap:1,minHeight:0,overflow:"hidden",height:"calc(100vh - 190px)"},children:[e.jsx(h,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1.25,py:1.25,borderBottom:"1px solid",borderColor:"divider"},children:e.jsx($,{spacing:.25,children:e.jsx(b,{variant:"subtitle1",fontWeight:700,children:"정규식 & 입력"})})}),e.jsxs(h,{sx:{display:"flex",flexDirection:"column",gap:1,flex:1,minHeight:0,p:1.25,overflow:"hidden"},children:[e.jsxs($,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",children:[e.jsx(W,{size:"small",variant:"outlined",onClick:()=>d(O),children:"예제 텍스트 넣기"}),e.jsxs($,{direction:"row",spacing:1,flexWrap:"wrap",justifyContent:"flex-end",children:[e.jsx(W,{size:"small",variant:m?"outlined":"text",onClick:()=>H(n=>!n),children:m?"편집 보기":"매칭 하이라이트 보기"}),e.jsx(W,{size:"small",variant:"contained",startIcon:e.jsx(Q,{}),disabled:!o,onClick:z,children:"선택으로 정규식 만들기"})]})]}),e.jsx(U,{label:"정규식 패턴 (/패턴/플래그)",value:f,onChange:n=>D(n.target.value),placeholder:"/\\\\d{4}-\\\\d{4}-\\\\d{4}-\\\\d{4}/g",size:"small",fullWidth:!0}),e.jsxs(h,{sx:{flex:1,minHeight:0,display:"flex",flexDirection:"column",gap:1,overflow:"hidden"},children:[!m&&e.jsxs(e.Fragment,{children:[e.jsx(_,{defaultLanguage:"plaintext",value:s,onChange:n=>d(n??""),onMount:n=>{n.onDidChangeCursorSelection(g=>{const x=n.getModel();if(!x)return;const t=g.selection;if(t.isEmpty()){y("");return}const p=x.getValueInRange(t);y(p)})},options:{minimap:{enabled:!1},wordWrap:"on",fontSize:13,fontFamily:"monospace",scrollBeyondLastLine:!1,automaticLayout:!0},theme:T.palette.mode==="dark"?"vs-dark":"vs-light"}),o&&e.jsxs(b,{variant:"caption",color:"text.secondary",children:["선택된 텍스트: ",o]})]}),m&&e.jsxs(h,{sx:{flex:1,minHeight:0,display:"flex",flexDirection:"column",gap:.5},children:[e.jsx(h,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:1,px:.5},children:e.jsxs(b,{variant:"subtitle2",children:["매칭 ",E.length,"개"]})}),e.jsx(h,{sx:{border:"1px solid",borderColor:"divider",borderRadius:1,p:1.25,fontFamily:"monospace",fontSize:13,bgcolor:"background.default",flex:1,minHeight:0,overflow:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word","& mark":{bgcolor:"warning.light",color:"text.primary",borderRadius:.5,px:.25}},dangerouslySetInnerHTML:{__html:C}})]}),v&&e.jsx(V,{severity:"error",children:v})]})]})]})]})})};export{ae as default};
