import{m as v,r as l,j as e}from"./vendor-DyxFRNuv.js";import{B as r,S as m,T as a,o as y,K as W,O as S,y as k,z as I,a as h,l as M,m as C,n as T,p as z}from"./mui-B8yGrLIc.js";import"./excel-CUMakpxJ.js";import"./tree-sitter-DJeWk4Ia.js";const R=({menuGroups:p,onOpenThemeModal:b})=>{const g=v(),[d,j]=l.useState(""),[c,w]=l.useState(0),[o,x]=l.useState(null),u=l.useMemo(()=>p.map(i=>({...i,items:i.children.filter(s=>s.type!=="divider")})).filter(i=>i.items.length>0).filter(i=>!/coming/i.test(i.label)),[p]),n=l.useMemo(()=>{const i=[{key:"all",label:"전체",items:u.flatMap(s=>s.items)}];return u.forEach(s=>{i.push({key:s.id,label:s.label,items:s.items})}),i},[u]),f=l.useMemo(()=>{const t=d.trim()?n[0]?.items??[]:n[c]?.items??[];if(!d.trim())return t;const i=d.toLowerCase();return t.filter(s=>[s.label,s.description,s.route].join(" ").toLowerCase().includes(i))},[n,d,c]);return e.jsx(r,{sx:{width:"100%",maxWidth:"100%",overflowX:"hidden"},children:e.jsxs(m,{spacing:2,sx:{pb:6,width:"100%",maxWidth:"100%",overflowX:"hidden",px:1.5,boxSizing:"border-box"},children:[e.jsxs(r,{sx:{textAlign:"center"},children:[e.jsx(a,{variant:"h5",fontWeight:800,children:"OfSimple"}),e.jsxs(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["각 도구는 가이드(/guide)와 실행으로 구성됩니다.",e.jsx("br",{})," 모든 데이터는 로컬에서만 동작합니다. 서버로 전송되지 않습니다."]})]}),e.jsx(r,{sx:{width:"100%",maxWidth:"100%",overflowX:"hidden"},children:e.jsx(y,{value:d,onChange:t=>j(t.target.value),placeholder:"Search tools...",fullWidth:!0,InputProps:{startAdornment:e.jsx(W,{position:"start",children:e.jsx(S,{})})}})}),e.jsx(r,{sx:{width:"100%",maxWidth:"100%",overflow:"hidden"},children:e.jsx(k,{value:Math.min(c,Math.max(n.length-1,0)),onChange:(t,i)=>w(i),variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,sx:{width:"100%",minWidth:0,maxWidth:"100%",boxSizing:"border-box",".MuiTabs-scroller":{overflowX:"auto"},".MuiTabs-scrollButtons":{width:32},".MuiTabs-scrollButtons.Mui-disabled":{opacity:0,width:32},".MuiTab-root":{textTransform:"none",fontWeight:600,minHeight:40}},children:n.map(t=>e.jsx(I,{label:t.label,sx:{minWidth:0,px:1.5}},t.key))})}),e.jsxs(m,{spacing:1.25,sx:{width:"100%",maxWidth:"100%",overflowX:"hidden"},children:[f.map(t=>{const i=t.icon;return e.jsx(r,{sx:{width:"100%",maxWidth:"100%",boxSizing:"border-box",borderRadius:1},children:e.jsxs(r,{sx:{height:"100%",width:"100%",px:1,py:1,display:"flex",flexDirection:"row",alignItems:"center",gap:1.5,textAlign:"left",borderRadius:1,border:"1px solid",borderColor:"divider",bgcolor:"background.paper",boxSizing:"border-box"},children:[e.jsx(r,{sx:{width:40,height:40,borderRadius:1,bgcolor:"action.hover",display:"grid",placeItems:"center",flexShrink:0},children:e.jsx(i,{fontSize:"small"})}),e.jsxs(r,{sx:{flex:1,minWidth:0},children:[e.jsx(a,{variant:"subtitle2",fontWeight:700,noWrap:!0,children:t.label}),e.jsx(a,{variant:"caption",color:"text.secondary",noWrap:!0,sx:{display:"block",width:"100%",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.67rem"},children:t.description})]}),e.jsxs(m,{direction:"row",spacing:1,alignItems:"center",sx:{flexShrink:0,flexWrap:"wrap",rowGap:.5,maxWidth:"45%"},children:[e.jsx(h,{size:"small",variant:"outlined",sx:{minWidth:0,px:1.25},onClick:()=>x(t),children:"가이드"}),e.jsx(h,{size:"small",variant:"contained",sx:{minWidth:0,px:1.25},onClick:()=>{if(t.route==="/settings"){b();return}g(t.route)},children:"실행"})]})]})},`row-${n[c]?.key??"all"}-${t.id}`)}),f.length===0&&e.jsx(a,{sx:{opacity:.6,textAlign:"center",py:2},children:"결과 없음"})]}),e.jsxs(M,{open:!!o,onClose:()=>x(null),fullWidth:!0,maxWidth:"sm",children:[e.jsx(C,{children:o?.label}),e.jsx(T,{dividers:!0,children:e.jsx(a,{variant:"body2",color:"text.secondary",children:o?.body||o?.description||"설명이 없습니다."})}),e.jsxs(z,{children:[e.jsx(h,{onClick:()=>x(null),children:"닫기"}),o&&e.jsx(h,{variant:"contained",onClick:()=>{if(o.route==="/settings"){x(null),b();return}g(o.route)},children:"실행"})]})]})]})})};export{R as default};
