import{m as k,r as l,j as e}from"./vendor-DyxFRNuv.js";import{S as f,B as i,T as a,o as S,K as C,O as W,y as T,z as A,an as M,a as p,l as B,m as R,n as z,p as D}from"./mui-B8yGrLIc.js";import"./excel-CUMakpxJ.js";import"./tree-sitter-DJeWk4Ia.js";const H=64,E={xs:"100%",sm:"clamp(300px, 45vw, 420px)",md:"clamp(290px, 29vw, 400px)"},b=40,y=20,L=({icon:c})=>{const x=typeof c=="object"?c:null;return e.jsx(i,{sx:{width:b,height:b,borderRadius:1,display:"grid",placeItems:"center",bgcolor:"action.hover",color:"text.secondary",lineHeight:0,flexShrink:0},children:e.jsx(i,{sx:{width:y,height:y,"& .MuiSvgIcon-root, & svg, & img":{width:"100% !important",height:"100% !important",display:"block"}},children:x})})},Y=({menuGroups:c,onOpenThemeModal:x})=>{const g=k(),[d,v]=l.useState(""),[h,w]=l.useState(0),[r,u]=l.useState(null),m=l.useMemo(()=>c.map(s=>({...s,items:s.children.filter(n=>n.type!=="divider")})).filter(s=>s.items.length>0).filter(s=>!/coming/i.test(s.label)),[c]),o=l.useMemo(()=>{const s=[{key:"all",label:"전체",items:m.flatMap(n=>n.items)}];return m.forEach(n=>{s.push({key:n.id,label:n.label,items:n.items})}),s},[m]),j=l.useMemo(()=>{const t=d.trim()?o[0]?.items??[]:o[h]?.items??[];if(!d.trim())return t;const s=d.toLowerCase();return t.filter(n=>[n.label,n.description,n.route].join(" ").toLowerCase().includes(s))},[o,d,h]),I={height:"100%",px:1,display:"flex",flexDirection:"row",alignItems:"center",gap:1.5,textAlign:"left",transition:"transform .18s ease, background-color .18s ease","&:hover":{transform:"translateY(-1px)"}};return e.jsxs(f,{spacing:3,children:[e.jsxs(i,{sx:{textAlign:"center"},children:[e.jsx(a,{variant:"h4",fontWeight:800,children:"OfSimple"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"각 도구는 가이드(/guide)와 실행으로 구성됩니다. 모든 데이터는 로컬에서만 동작합니다. 서버로 전송되지 않습니다."})]}),e.jsx(i,{sx:{textAlign:"center"},children:e.jsx(S,{value:d,onChange:t=>v(t.target.value),placeholder:"Search tools...",fullWidth:!0,sx:{mx:"auto",width:"clamp(420px, 60%, 820px)"},InputProps:{startAdornment:e.jsx(C,{position:"start",children:e.jsx(W,{})})}})}),e.jsx(i,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(T,{value:Math.min(h,Math.max(o.length-1,0)),onChange:(t,s)=>w(s),variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,sx:{".MuiTab-root":{textTransform:"none",fontWeight:600,minHeight:44}},children:o.map(t=>e.jsx(A,{label:t.label},t.key))})}),e.jsxs(i,{sx:{display:"flex",flexWrap:"wrap",gap:{xs:1,md:1},justifyContent:"center"},children:[j.map(t=>{const s=t.icon;return e.jsx(i,{sx:{width:E,height:H},children:e.jsx(M,{variant:"outlined",sx:{height:"100%",borderRadius:1},children:e.jsxs(i,{sx:I,children:[e.jsx(L,{icon:e.jsx(s,{fontSize:"inherit"})}),e.jsxs(i,{sx:{flex:1,minWidth:0},children:[e.jsx(a,{variant:"subtitle1",noWrap:!0,sx:{fontWeight:700},children:t.label}),e.jsx(a,{variant:"caption",color:"text.secondary",noWrap:!0,sx:{display:"block",width:"100%",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.67rem"},children:t.description})]}),e.jsxs(f,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(p,{size:"small",variant:"outlined",onClick:()=>u(t),children:"가이드"}),e.jsx(p,{size:"small",variant:"contained",onClick:()=>{if(t.route==="/settings"){x();return}g(t.route)},children:"실행"})]})]})})},`row-${o[h].key}-${t.id}`)}),j.length===0&&e.jsx(a,{sx:{opacity:.6,mt:2},children:"결과 없음"})]}),e.jsxs(B,{open:!!r,onClose:()=>u(null),fullWidth:!0,maxWidth:"sm",children:[e.jsx(R,{children:r?.label}),e.jsx(z,{dividers:!0,children:e.jsx(a,{variant:"body2",color:"text.secondary",children:r?.body||r?.description||"설명이 없습니다."})}),e.jsxs(D,{children:[e.jsx(p,{onClick:()=>u(null),children:"닫기"}),r&&e.jsx(p,{variant:"contained",onClick:()=>{if(r.route==="/settings"){u(null),x();return}g(r.route)},children:"실행"})]})]})]})};export{Y as default};
