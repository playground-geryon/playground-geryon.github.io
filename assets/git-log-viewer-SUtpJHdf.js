const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/prism-wcO-HLEn.js","assets/excel-CUMakpxJ.js","assets/prism-54DrP_uy.css"])))=>i.map(i=>d[i]);
import{r as h,j as e}from"./vendor-DyxFRNuv.js";import{_ as ke}from"./tree-sitter-DJeWk4Ia.js";import{P as Re,B as a,S as E,a as xe,w as Ue,x as Je,y as Ye,z as be,T as S,I as y,F as q,H as ee,J as te,o as _e,K as ue,N as Fe,O as Ae,Q as le,R as oe,U as I,V as d,W as ae,X as me,Y as b,h as Me,Z as Qe,L as Ve,_ as Xe,b as Ke,$ as Ze,a0 as qe,l as et,m as tt,n as st,a1 as Te,p as it,a2 as nt,a3 as rt}from"./mui-Dn-s4uu_.js";import"./excel-CUMakpxJ.js";const we=String.raw`
git log --all --pretty=fuller --numstat --date=iso-strict --no-color | awk '
BEGIN {
  printf "[\n"
  in_commit = 0
  files_count = 0
}

# 커밋 시작
/^commit [0-9a-f]{40}/ {
  # 이전 커밋 마무리
  if (in_commit) {
    # 아직 message/files 안 찍었으면 여기서 찍어줌 (파일이 없는 커밋일 경우)
    if (!message_printed) {
      printf "    \"message\": \"%s\",\n", message
      printf "    \"files\": [\n"
      message_printed = 1
    }
    if (files_count > 0) {
      printf "\n"
    }
    printf "    ]\n  },\n"
  }

  # 새 커밋 초기화
  in_commit = 1
  files_count = 0
  message = ""
  message_printed = 0

  printf "  {\n"
  # commit 해시
  printf "    \"commit\": \"%s\",\n", substr($2, 1, 40)
}

# Author
/^Author: / {
  author_info = substr($0, 9)
  gsub(/^ +/, "", author_info)
  gsub(/ +$/, "", author_info)
  printf "    \"author\": \"%s\",\n", author_info
}

# AuthorDate
/^AuthorDate: / {
  printf "    \"date\": \"%s\",\n", substr($0, 13)
}

# 커밋 메시지 (4스페이스로 시작)
/^    / && in_commit {
  # header와 message 사이의 빈 줄은 그냥 무시
  if ($0 ~ /^    $/) {
    next
  }

  line = substr($0, 5)  # 앞의 4칸 제거
  # 백슬래시 먼저, 그다음 쌍따옴표 이스케이프
  gsub(/\\/, "\\\\", line)
  gsub(/\"/, "\\\"", line)

  if (message == "") {
    message = line
  } else {
    message = message "\\n" line
  }
  next
}

# numstat 라인: 추가/삭제/파일 경로
/^[0-9-]+\t[0-9-]+\t/ {
  added = $1
  deleted = $2

  # message 를 아직 출력 안 했으면 여기서 출력하고 files 배열 시작
  if (!message_printed) {
    printf "    \"message\": \"%s\",\n", message
    printf "    \"files\": [\n"
    message_printed = 1
  }

  # rename 감지
  if (match($0, /{.* => .*}/)) {
    status = "R"
  } else if (added == "-" && deleted != "-") {
    status = "D"
  } else if (deleted == "-" && added != "-") {
    status = "A"
  } else {
    status = "M"
  }

  file = substr($0, index($0, $3))
  gsub(/\"/, "\\\"", file)

  if (files_count > 0) {
    printf ",\n"
  }
  printf "      {\"status\":\"%s\", \"added\":\"%s\", \"deleted\":\"%s\", \"file\":\"%s\"}", status, added, deleted, file
  files_count++
}

END {
  if (in_commit) {
    # 파일이 아예 없던 커밋에서 message/files 안 찍었으면 여기서 처리
    if (!message_printed) {
      printf "    \"message\": \"%s\",\n", message
      printf "    \"files\": [\n"
      message_printed = 1
    }
    if (files_count > 0) {
      printf "\n"
    }
    printf "    ]\n  }\n"
  }
  printf "]\n"
}
' > git-log.json

`,lt=i=>i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),ot=i=>i?String(i).replace(/\\/g,"/").replace(/^\.\//,"").replace(/^\/+/,"").replace(/\/{2,}/g,"/").trim().split("/").map(s=>s.trim()).filter(Boolean).join("/"):"",at=i=>{const r=[],n=new TextEncoder;for(let s=0;s<i.length;){if(i[s]==="\\"){const f=i[s+1];if(!f)break;if(f>="0"&&f<="7"){let j=f,u=s+2;for(;u<i.length&&j.length<3&&i[u]>="0"&&i[u]<="7";)j+=i[u],u+=1;r.push(parseInt(j,8)),s=u;continue}const x={n:10,r:13,t:9,b:8,f:12,v:11,"\\":92,'"':34};if(f==="x"&&i[s+2]&&i[s+3]){const j=i.slice(s+2,s+4),u=parseInt(j,16);if(Number.isFinite(u)){r.push(u),s+=4;continue}}if(f==="u"&&i[s+2]&&i[s+3]&&i[s+4]&&i[s+5]){const j=i.slice(s+2,s+6),u=parseInt(j,16);if(Number.isFinite(u)){const C=String.fromCharCode(u);r.push(...n.encode(C)),s+=6;continue}}if(x[f]){r.push(x[f]),s+=2;continue}r.push(f.charCodeAt(0)),s+=2;continue}const l=i.codePointAt(s);if(l===void 0)break;const o=String.fromCodePoint(l);r.push(...n.encode(o)),s+=o.length}return new TextDecoder("utf-8").decode(new Uint8Array(r))},ct=i=>{const r=/"(file|oldPath|newPath)"\s*:\s*"((?:\\.|[^"\\])*)"/g;return i.replace(r,(n,s,c)=>{const l=at(c),o=JSON.stringify(l).slice(1,-1);return`"${s}":"${o}"`})},dt=i=>{let r=[];try{if(r=JSON.parse(String(i??"")),!Array.isArray(r))throw new Error("Root is not an array")}catch{try{const o=ct(String(i??""));if(r=JSON.parse(o),!Array.isArray(r))throw new Error("Root is not an array")}catch(o){throw console.error("JSON parse error:",o),new Error("올바르지 않은 git-log JSON 형식입니다.")}}const n=l=>typeof l=="string"?l:l==null?"":String(l),s=l=>{const o=n(l).toUpperCase();return["A","M","D","R","C"].includes(o)?o:"X"},c=l=>{const o=n(l);if(o==="-")return 0;const f=Number(o);return Number.isFinite(f)?f:0};return r.map(l=>{const f=(Array.isArray(l.files)?l.files:[]).map(x=>({file:ot(n(x.file)),status:s(x.status),added:c(x.added),deleted:c(x.deleted)}));return{commit:n(l.commit),author:n(l.author),date:n(l.date),message:n(l.message),files:f}})},ht=i=>{const r=i.map(s=>({...s,files:s.files.map(c=>({...c}))})),n=new Set;for(let s=r.length-1;s>=0;s-=1){const c=r[s];for(const l of c.files){const o=l.file;n.has(o)?l.status==="D"&&n.delete(o):(l.status!=="D"&&(l.status="A"),n.add(o))}}return r},ft=i=>{const r=String(i).replace(/\\/g,"/").replace(/^\.\//,"").replace(/^\/+/,"").replace(/\/{2,}/g,"/").trim();if(!r)return[];const n=r.indexOf("{");if(n>=0){const s=r.slice(0,n).replace(/\/+$/,""),c=r.slice(n);return[...s?s.split("/").filter(Boolean):[],c]}return r.split("/").filter(Boolean)},xt=i=>{const r=new Map;for(const n of i)for(const s of n.files){const c=s.file,l=r.get(c)??{commits:0,add:0,mod:0,del:0,addedLines:0,deletedLines:0,history:[]};l.commits+=1,s.status==="A"?l.add+=1:s.status==="M"?l.mod+=1:s.status==="D"&&(l.del+=1),l.addedLines+=s.added??0,l.deletedLines+=s.deleted??0,l.history.push({commit:n.commit,author:n.author,date:n.date,message:n.message,status:s.status,added:s.added??0,deleted:s.deleted??0}),r.set(c,l)}for(const n of r.values())n.history.sort((s,c)=>s.date<c.date?1:-1);return{fileStats:r}},ut=i=>{const r={id:"__root__",name:"",path:"",isDir:!0,children:[]};for(const[s,c]of i){const l=ft(s);let o=r,f="";for(let x=0;x<l.length;x+=1){const j=l[x].trim();f=f?`${f}/${j}`:j,o.children||(o.children=[]);let u=o.children.find(C=>C.name===j);u?x<l.length-1&&!u.isDir&&(u.isDir=!0,u.children||(u.children=[])):(u={id:f,name:j,path:f,isDir:x<l.length-1,children:x<l.length-1?[]:void 0},o.children.push(u)),o=u}o.isDir||(o.stats={commits:c.commits,add:c.add,mod:c.mod,del:c.del,addedLines:c.addedLines,deletedLines:c.deletedLines})}const n=s=>{s.children&&(s.children.sort((c,l)=>c.isDir!==l.isDir?c.isDir?-1:1:c.name.localeCompare(l.name)),s.children.forEach(n))};return n(r),r},We=(i,r,n)=>{if(!r)return i;const s=r.toLowerCase();if(i.isDir){const l=(i.children??[]).map(o=>We(o,r,n)).filter(o=>!!o);return l.length>0?{...i,children:l}:i.name.toLowerCase().includes(s)?{...i,children:[]}:null}return i.name.toLowerCase().includes(s)||i.path.toLowerCase().includes(s)||!!n?.(i.path)?{...i,children:[]}:null},mt=()=>{const[i,r]=h.useState([]),[n,s]=h.useState(null),[c,l]=h.useState(0),[o,f]=h.useState(50),[x,j]=h.useState(!1),[u,C]=h.useState(null),[w,A]=h.useState(""),[D,U]=h.useState(null);h.useEffect(()=>{let p=!0;return(async()=>{const z=await ke(()=>import("./prism-wcO-HLEn.js").then(L=>L.p),__vite__mapDeps([0,1,2]));await ke(()=>import("./prism-wcO-HLEn.js").then(L=>L.a),__vite__mapDeps([0,1,2]));const N=z.default??z;p&&C(N)})(),()=>{p=!1}},[]);const M=h.useMemo(()=>{const p=xt(i),v=ut(p.fileStats),z=w.trim().toLowerCase(),L=z?We(v,z,T=>{if(!z)return!1;const K=p.fileStats.get(T);return K?(K.history??[]).some(J=>{const ie=String(J.commit??"").toLowerCase(),$=String(J.author??"").toLowerCase(),je=String(J.message??"").toLowerCase();return ie.includes(z)||$.includes(z)||je.includes(z)}):!1}):v;return{fileStats:p.fileStats,fileTree:L??{id:"__empty__",name:"",path:"",isDir:!0,children:[]}}},[i,w]),ge=h.useMemo(()=>D?M.fileStats.get(D)?.history??[]:[],[D,M.fileStats]),V=h.useMemo(()=>{if(!D)return null;const p=M.fileStats.get(D);return p?{commits:p.commits,add:p.add,mod:p.mod,del:p.del,addedLines:p.addedLines,deletedLines:p.deletedLines}:null},[D,M.fileStats]),W=h.useMemo(()=>u?u.highlight(we,u.languages.bash,"bash"):lt(we),[u]);return{commitList:i,setCommitList:r,selectedCommit:n,setSelectedCommit:s,page:c,setPage:l,rowsPerPage:o,setRowsPerPage:f,infoOpen:x,setInfoOpen:j,highlightedShell:W,shellScript:we,handleFileUpload:p=>{const v=p.target.files?.[0];if(!v)return;const z=new FileReader;z.onload=N=>{try{const L=String(N.target?.result??""),T=dt(L),K=ht(T);r(K),s(null),l(0)}catch(L){console.error(L),alert("파일 파싱 오류: git-log JSON을 확인하세요.")}},z.readAsText(v)},handleChangePage:(p,v)=>l(v),handleChangeRowsPerPage:p=>{f(parseInt(p.target.value,10)),l(0)},fileQuery:w,setFileQuery:A,fileTree:M.fileTree,selectedFilePath:D,setSelectedFilePath:U,selectedFileHistory:ge,selectedFileSummary:V}},gt={dateFormat(i,r={}){if(!i)return!1;const n=new Date(i);if(isNaN(n.getTime()))return!1;const{dateSeparator:s="-",timeSeparator:c=":",showYear:l=!0,showMonth:o=!0,showDay:f=!0,showHours:x=!1,showMinutes:j=!1,showSeconds:u=!1}=r,C=D=>String(D).padStart(2,"0"),w=[l?n.getFullYear():"",o?C(n.getMonth()+1):"",f?C(n.getDate()):""].filter(Boolean).join(s),A=[x?C(n.getHours()):"",j?C(n.getMinutes()):"",u?C(n.getSeconds()):""].filter(Boolean).join(c);return[w,A].filter(Boolean).join(" ")},dateDday(i){if(!i)return!1;const r=new Date,n=new Date(i);if(isNaN(n.getTime()))return!1;const s=n.getTime()-r.getTime();return Math.ceil(s/(1e3*60*60*24))},dateBetween(i,r){if(!i||!r)return!1;const n=new Date(i),s=new Date(r);if(isNaN(n.getTime())||isNaN(s.getTime()))return!1;const c=s.getTime()-n.getTime();return Math.ceil(c/(1e3*60*60*24))},dateInCheck(i,r,n){if(!i||!r||!n)return!1;const s=new Date(i).getTime(),c=new Date(r).getTime(),l=new Date(n).getTime();return isNaN(s)||isNaN(c)||isNaN(l)?!1:l>=s&&l<=c},dateByOffset(i,r,n=new Date){if(!i||!["day","month","year"].includes(r))return!1;const s=new Date(n);return isNaN(s.getTime())?!1:(((o,f,x)=>{switch(f){case"day":o.setDate(x);break;case"month":o.setMonth(x);break;case"year":o.setFullYear(x);break}})(s,r,((o,f)=>{switch(f){case"day":return o.getDate();case"month":return o.getMonth();case"year":return o.getFullYear();default:return 0}})(s,r)+i),this.dateFormat(s))},dateByOffsetFromBase(i,r,n){if(!r||!["day","month","year"].includes(n))return!1;const s=new Date(i);return isNaN(s.getTime())?!1:(((o,f,x)=>{switch(f){case"day":o.setDate(x);break;case"month":o.setMonth(x);break;case"year":o.setFullYear(x);break}})(s,n,((o,f)=>{switch(f){case"day":return o.getDate();case"month":return o.getMonth();case"year":return o.getFullYear();default:return 0}})(s,n)+r),this.dateFormat(s))}},pt="gitlog.leftPct",jt="gitlog.report.leftPct",yt="gitlog.files.leftPct",Ie=i=>{switch((i??"X").toUpperCase()){case"A":return e.jsx(b,{label:"추가",size:"small",color:"success"});case"D":return e.jsx(b,{label:"삭제",size:"small",color:"error"});case"M":return e.jsx(b,{label:"수정",size:"small",color:"primary"});case"R":return e.jsx(b,{label:"이동",size:"small",variant:"outlined"});case"C":return e.jsx(b,{label:"복사",size:"small",variant:"outlined"});default:return e.jsx(b,{label:"기타",size:"small",variant:"outlined"})}},Ce=(i,r=40)=>{const[n,s]=h.useState(()=>{const w=Number(localStorage.getItem(i));return!Number.isNaN(w)&&w>=20&&w<=80?w:r}),c=h.useRef(null),l=h.useRef(!1);h.useEffect(()=>{localStorage.setItem(i,String(n))},[n,i]);const o=()=>{l.current=!0,document.body.style.userSelect="none"},f=h.useCallback(()=>{l.current=!1,document.body.style.userSelect=""},[]),x=h.useCallback(w=>{if(!l.current)return;const A=c.current?.getBoundingClientRect();if(!A)return;const D=w.clientX-A.left,U=Math.min(80,Math.max(20,D/A.width*100));s(U)},[]);return h.useEffect(()=>(window.addEventListener("mousemove",x),window.addEventListener("mouseup",f),()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",f)}),[x,f]),{leftPct:n,setLeftPct:s,containerRef:c,onSplitterDown:o,collapseLeft:()=>s(0),restoreSplit:(w=r)=>s(w),collapseRight:()=>s(100)}},ve=({onMouseDown:i})=>e.jsx(a,{onMouseDown:i,sx:{width:8,cursor:"col-resize",bgcolor:"divider","&:hover":{bgcolor:"action.hover"},borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none"},title:"드래그해서 좌/우 폭 조절",children:e.jsxs(a,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[e.jsx(a,{sx:{width:2,height:2,bgcolor:"text.secondary",borderRadius:"50%"}}),e.jsx(a,{sx:{width:2,height:2,bgcolor:"text.secondary",borderRadius:"50%"}}),e.jsx(a,{sx:{width:2,height:2,bgcolor:"text.secondary",borderRadius:"50%"}})]})}),ce=i=>gt.dateFormat?.(i,{showHours:!0,showMinutes:!0,showSeconds:!0})||i,Q={border:"1px solid",borderColor:"divider",borderRadius:1.5,bgcolor:"background.paper",display:"flex",flexDirection:"column",overflow:"hidden"},St=({controller:i})=>{const{commitList:r,selectedCommit:n,setSelectedCommit:s,page:c,rowsPerPage:l,infoOpen:o,setInfoOpen:f,highlightedShell:x,shellScript:j,handleFileUpload:u,handleChangePage:C,handleChangeRowsPerPage:w,fileQuery:A,setFileQuery:D,fileTree:U,selectedFilePath:M,setSelectedFilePath:ge,selectedFileHistory:V,selectedFileSummary:W}=i,[X,pe]=h.useState("");h.useEffect(()=>{C(void 0,0)},[X]);const[se,p]=h.useState(0),[v,z]=h.useState(null),[N,L]=h.useState(0),[T,K]=h.useState(50),[J,ie]=h.useState(0),[$,je]=h.useState(50),[ye,de]=h.useState(0),[Z,Ee]=h.useState(50),[Ne,Pe]=h.useState(200),[Se,ne]=h.useState({open:!1,message:"",severity:"success"}),R=Ce(pt,50),_=Ce(jt,50),F=Ce(yt,50),[De,$e]=h.useState({}),he=h.useRef(null),H=t=>String(t??"").toLowerCase(),He=(t,m)=>{if(!m)return!0;const g=m.toLowerCase(),O=String(t?.date??""),k=ce(O);if(H(t?.commit).includes(g)||H(t?.author).includes(g)||H(O).includes(g)||H(k).includes(g)||H(t?.message).includes(g))return!0;const P=Array.isArray(t?.files)?t.files:[];for(const B of P){const G=String(B?.status??"").toUpperCase(),Y=G==="A"?"추가":G==="M"?"수정":G==="D"?"삭제":"기타";if(H(B?.file).includes(g)||H(G).includes(g)||H(Y).includes(g)||String(B?.added??"").includes(g)||String(B?.deleted??"").includes(g))return!0}return!1},Oe=h.useCallback(async()=>{try{if(navigator?.clipboard?.writeText){await navigator.clipboard.writeText(j),ne({open:!0,message:"복사가 완료되었습니다.",severity:"success"});return}}catch(t){console.error(t)}try{const t=document.createElement("textarea");t.value=j,t.setAttribute("readonly","true"),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),ne({open:!0,message:"복사가 완료되었습니다.",severity:"success"})}catch(t){console.error(t),ne({open:!0,message:"복사에 실패했습니다.",severity:"error"})}},[j]),ze=h.useMemo(()=>Array.isArray(r)?r.filter(t=>He(t,X)):[],[r,X]),re=h.useMemo(()=>{const t=new Map,m=new Map;for(const k of r??[]){const P=k?.author??"Unknown";t.set(P,(t.get(P)??0)+1);const B=Array.isArray(k?.files)?k.files:[];for(const G of B){const Y=m.get(P)??{add:0,mod:0,del:0,totalFiles:0};G?.status==="A"?Y.add+=1:G?.status==="M"?Y.mod+=1:G?.status==="D"&&(Y.del+=1),Y.totalFiles+=1,m.set(P,Y)}}const g=Array.from(t.values()).reduce((k,P)=>k+P,0),O=Array.from(t.entries()).map(([k,P])=>{const B=m.get(k)??{add:0,mod:0,del:0,totalFiles:0};return{author:k,commits:P,pct:g?P/g*100:0,files:B}}).sort((k,P)=>P.commits-k.commits);return{total:g,rows:O,full:O}},[r]);h.useEffect(()=>{const t=Math.max(0,Math.ceil(re.rows.length/T)-1);L(m=>Math.min(m,t))},[re.rows.length,T]);const fe=h.useMemo(()=>v?r.filter(t=>t.author===v):[],[r,v]);h.useEffect(()=>{const t=Math.max(0,Math.ceil(fe.length/$)-1);ie(m=>Math.min(m,t))},[fe.length,$]);const Be=h.useMemo(()=>{const t=[],m=(g,O)=>{g.id!=="__root__"&&t.push({node:g,depth:O}),!(!g.children||!g.children.length||!(De[g.id]??!0))&&g.children.forEach(P=>m(P,O+1))};return m(U,0),t},[U,De]);h.useEffect(()=>{Pe(200),he.current&&(he.current.scrollTop=0)},[U]),h.useEffect(()=>{const t=he.current;if(!t)return;const m=()=>{t.scrollTop+t.clientHeight>=t.scrollHeight-16&&Pe(g=>g+200)};return t.addEventListener("scroll",m),()=>t.removeEventListener("scroll",m)},[]);const Le=h.useMemo(()=>Math.max(0,Math.ceil(V.length/Z)-1),[V.length,Z]);h.useEffect(()=>{de(t=>Math.min(t,Le))},[Le]),h.useEffect(()=>{de(0)},[M]);const Ge=t=>{$e(m=>({...m,[t]:!m[t]}))};return e.jsxs(Re,{sx:{p:1.25,display:"flex",flexDirection:"column",gap:1.25,flex:1,minHeight:785,height:"100%",width:1,maxWidth:"100%",overflowX:"hidden"},children:[e.jsx(a,{sx:{borderColor:"divider",borderRadius:1.5,bgcolor:"background.paper"},children:e.jsxs(E,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,rowGap:1,sx:{width:1},children:[e.jsx(xe,{size:"small",variant:"outlined",color:"primary",startIcon:e.jsx(Ue,{}),onClick:()=>f(!0),children:"Git-Log Shell"}),e.jsxs(xe,{size:"small",variant:"contained",component:"label",startIcon:e.jsx(Je,{}),children:["Git-Log 업로드",e.jsx("input",{type:"file",hidden:!0,accept:".txt,.json",onChange:u})]})]})}),e.jsxs(a,{sx:{...Q,minHeight:0,display:"flex",flexDirection:"column",p:0},children:[e.jsxs(Ye,{value:se,onChange:(t,m)=>p(m),sx:{px:1,py:.5},textColor:"primary",indicatorColor:"primary",children:[e.jsx(be,{label:"Log"}),e.jsx(be,{label:"Report"}),e.jsx(be,{label:"Files"})]}),se===0&&e.jsxs(a,{ref:R.containerRef,sx:{display:"flex",gap:0,overflow:"hidden",px:1,pb:1,minHeight:650,height:"calc(100vh - 270px)"},children:[e.jsx(a,{sx:{width:R.leftPct<=0?0:`calc(${R.leftPct}% - 4px)`,minWidth:0,display:R.leftPct<=0?"none":"flex",flexDirection:"column",pr:1},children:e.jsxs(a,{sx:{...Q,flex:1},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1.25,py:.5,borderBottom:"1px solid",borderColor:"divider"},children:[e.jsx(a,{children:e.jsx(S,{variant:"subtitle1",fontWeight:700,children:"Commit List"})}),e.jsxs(a,{sx:{display:"flex",gap:.5},children:[e.jsx(y,{size:"small",onClick:R.collapseLeft,title:"Details 최대화",children:e.jsx(q,{fontSize:"small"})}),e.jsx(y,{size:"small",onClick:()=>R.restoreSplit(40),title:"분할 40/60",children:e.jsx(ee,{fontSize:"small"})}),e.jsx(y,{size:"small",onClick:R.collapseRight,title:"List 최대화",children:e.jsx(te,{fontSize:"small"})})]})]}),e.jsxs(a,{sx:{display:"flex",flexDirection:"column",gap:1,flex:1,minHeight:0,overflow:"hidden",p:1.25},children:[e.jsx(_e,{size:"small",placeholder:"commit / author / date / message / files...",value:X,onChange:t=>pe(t.target.value),InputProps:{startAdornment:e.jsx(ue,{position:"start",children:e.jsx(Ae,{fontSize:"small"})}),endAdornment:X?e.jsx(ue,{position:"end",children:e.jsx(y,{size:"small",onClick:()=>pe(""),"aria-label":"검색어 삭제",children:e.jsx(Fe,{fontSize:"small"})})}):null}}),e.jsx(a,{sx:{flex:1,minWidth:0,overflow:"auto"},children:e.jsxs(le,{size:"small",stickyHeader:!0,children:[e.jsx(oe,{children:e.jsxs(I,{children:[e.jsx(d,{sx:{fontWeight:700},children:"Commit"}),e.jsx(d,{sx:{fontWeight:700},children:"Author"}),e.jsx(d,{sx:{fontWeight:700},children:"Date"}),e.jsx(d,{sx:{fontWeight:700},children:"Message"})]})}),e.jsx(ae,{children:ze.slice(c*l,c*l+l).map(t=>e.jsxs(I,{hover:!0,selected:n===t,onClick:()=>s(t),sx:{cursor:"pointer"},children:[e.jsx(d,{sx:{width:96,fontFamily:"monospace",fontSize:12},children:e.jsx(a,{component:"span",title:t.commit,children:String(t.commit).substring(0,7)})}),e.jsx(d,{sx:{fontSize:13},children:t.author}),e.jsx(d,{sx:{whiteSpace:"nowrap",fontSize:12},children:ce(t.date)}),e.jsx(d,{sx:{maxWidth:320,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:13},children:t.message})]},t.commit))})]})}),e.jsx(me,{component:"div",count:ze.length,page:c,onPageChange:C,rowsPerPage:l,onRowsPerPageChange:w,rowsPerPageOptions:[50,5,10,15,20,30,40,100]})]})]})}),e.jsx(ve,{onMouseDown:R.onSplitterDown}),e.jsx(a,{sx:{flex:1,minWidth:0,pl:1,display:"flex",flexDirection:"column"},children:e.jsxs(a,{sx:{...Q,flex:1},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1.25,py:.5,borderBottom:"1px solid",borderColor:"divider"},children:[e.jsx(a,{children:e.jsx(S,{variant:"subtitle1",fontWeight:700,children:"Commit Detail"})}),e.jsxs(a,{sx:{display:"flex",gap:.5},children:[e.jsx(y,{size:"small",onClick:R.collapseLeft,title:"List 최대화",children:e.jsx(q,{fontSize:"small"})}),e.jsx(y,{size:"small",onClick:()=>R.restoreSplit(50),title:"분할 50/50",children:e.jsx(ee,{fontSize:"small"})}),e.jsx(y,{size:"small",onClick:R.collapseRight,title:"Details 최대화",children:e.jsx(te,{fontSize:"small"})})]})]}),e.jsx(a,{sx:{p:1.25,flex:1,minHeight:0,overflow:"auto"},children:n?e.jsxs(E,{spacing:1.25,children:[e.jsxs(E,{direction:"row",spacing:1,alignItems:"center",flexWrap:"wrap",children:[e.jsx(b,{label:`Hash: ${n.commit}`,size:"small"}),e.jsx(b,{label:`${n.author} ${ce(n.date)}`,size:"small"})]}),e.jsx(S,{variant:"body2",whiteSpace:"pre-wrap",sx:{fontSize:12},children:n.message}),e.jsx(Me,{}),e.jsxs(E,{spacing:1,children:[e.jsx(S,{variant:"subtitle2",children:"Files"}),e.jsxs(le,{size:"small",children:[e.jsx(oe,{children:e.jsxs(I,{sx:{bgcolor:"action.hover"},children:[e.jsx(d,{sx:{fontWeight:700},children:"Status"}),e.jsx(d,{sx:{fontWeight:700},children:"File"}),e.jsx(d,{align:"right",sx:{fontWeight:700},children:"+ Added"}),e.jsx(d,{align:"right",sx:{fontWeight:700},children:"- Deleted"})]})}),e.jsx(ae,{children:n.files.map(t=>e.jsxs(I,{children:[e.jsx(d,{children:Ie(t.status)}),e.jsx(d,{sx:{wordBreak:"break-all"},children:t.file}),e.jsx(d,{align:"right",children:t.added}),e.jsx(d,{align:"right",children:t.deleted})]},`${n.commit}-${t.file}`))})]})]})]}):e.jsx(S,{color:"text.secondary",children:"커밋을 선택해주세요."})})]})})]}),se===1&&e.jsxs(a,{ref:_.containerRef,sx:{display:"flex",gap:0,overflow:"hidden",px:1,pb:1,minHeight:650,height:"calc(100vh - 270px)"},children:[e.jsx(a,{sx:{width:_.leftPct<=0?0:`calc(${_.leftPct}% - 4px)`,minWidth:0,display:_.leftPct<=0?"none":"flex",flexDirection:"column",pr:1},children:e.jsxs(a,{sx:{...Q,flex:1},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1.25,py:.5,borderBottom:"1px solid",borderColor:"divider"},children:[e.jsxs(a,{children:[e.jsxs(S,{variant:"subtitle1",fontWeight:700,children:["Author (",re.total,")"]}),e.jsx(S,{variant:"body2",color:"text.secondary",children:"작성자별 커밋/파일 집계"})]}),e.jsxs(a,{sx:{display:"flex",gap:.5},children:[e.jsx(y,{size:"small",onClick:_.collapseLeft,title:"Details 최대화",children:e.jsx(q,{fontSize:"small"})}),e.jsx(y,{size:"small",onClick:()=>_.restoreSplit(50),title:"분할 50/50",children:e.jsx(ee,{fontSize:"small"})}),e.jsx(y,{size:"small",onClick:_.collapseRight,title:"List 최대화",children:e.jsx(te,{fontSize:"small"})})]})]}),e.jsx(a,{sx:{flex:1,minHeight:0,overflow:"auto"},children:e.jsxs(le,{size:"small",stickyHeader:!0,children:[e.jsx(oe,{children:e.jsxs(I,{children:[e.jsx(d,{sx:{fontWeight:700},children:"Author"}),e.jsx(d,{align:"right",sx:{fontWeight:700},children:"Commits"}),e.jsx(d,{align:"right",sx:{fontWeight:700},children:"Add"}),e.jsx(d,{align:"right",sx:{fontWeight:700},children:"Mod"}),e.jsx(d,{align:"right",sx:{fontWeight:700},children:"Del"}),e.jsx(d,{align:"right",sx:{fontWeight:700},children:"Files"})]})}),e.jsx(ae,{children:re.rows.slice(N*T,N*T+T).map(t=>e.jsxs(I,{hover:!0,selected:v===t.author,onClick:()=>z(t.author),sx:{cursor:"pointer"},children:[e.jsx(d,{children:e.jsxs(E,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Qe,{sx:{width:32,height:32},children:t.author[0]??"?"}),e.jsxs(E,{spacing:.25,children:[e.jsx(S,{variant:"body2",children:t.author}),e.jsxs(S,{variant:"caption",color:"text.secondary",children:[t.pct.toFixed(1),"%"]})]})]})}),e.jsx(d,{align:"center",children:e.jsx(b,{label:t.commits,size:"small",variant:"outlined"})}),e.jsx(d,{align:"center",children:e.jsx(b,{label:t.files.add,size:"small",color:"success"})}),e.jsx(d,{align:"center",children:e.jsx(b,{label:t.files.mod,size:"small",color:"primary"})}),e.jsx(d,{align:"center",children:e.jsx(b,{label:t.files.del,size:"small",color:"error"})}),e.jsx(d,{align:"right",children:t.files.totalFiles})]},t.author))})]})}),e.jsx(me,{component:"div",count:re.rows.length,page:N,onPageChange:(t,m)=>L(m),rowsPerPage:T,onRowsPerPageChange:t=>{K(parseInt(t.target.value,10)),L(0)},rowsPerPageOptions:[10,20,30,50,100]})]})}),e.jsx(ve,{onMouseDown:_.onSplitterDown}),e.jsx(a,{sx:{flex:1,minWidth:0,pl:1,display:"flex",flexDirection:"column"},children:e.jsxs(a,{sx:{...Q,flex:1},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1.25,py:.5,borderBottom:"1px solid",borderColor:"divider"},children:[e.jsx(S,{variant:"subtitle1",fontWeight:700,children:v||"Author Detail"}),e.jsxs(a,{sx:{display:"flex",gap:.5},children:[e.jsx(y,{size:"small",onClick:_.collapseLeft,title:"List 최대화",children:e.jsx(q,{fontSize:"small"})}),e.jsx(y,{size:"small",onClick:()=>_.restoreSplit(50),title:"분할 50/50",children:e.jsx(ee,{fontSize:"small"})}),e.jsx(y,{size:"small",onClick:_.collapseRight,title:"Details 최대화",children:e.jsx(te,{fontSize:"small"})})]})]}),e.jsx(a,{sx:{p:1.25,flex:1,minHeight:0,overflow:"auto"},children:v?e.jsxs(E,{spacing:1.25,children:[e.jsxs(le,{size:"small",children:[e.jsx(oe,{children:e.jsxs(I,{sx:{bgcolor:"action.hover"},children:[e.jsx(d,{sx:{fontWeight:700},children:"Commit"}),e.jsx(d,{sx:{fontWeight:700},children:"Date"}),e.jsx(d,{sx:{fontWeight:700},children:"Message"})]})}),e.jsx(ae,{children:fe.slice(J*$,J*$+$).map(t=>e.jsxs(I,{hover:!0,children:[e.jsx(d,{sx:{fontFamily:"monospace",fontSize:12},children:t.commit.substring(0,7)}),e.jsx(d,{sx:{whiteSpace:"nowrap",fontSize:12},children:ce(t.date)}),e.jsx(d,{sx:{maxWidth:400,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.message})]},t.commit))})]}),e.jsx(me,{component:"div",count:fe.length,page:J,onPageChange:(t,m)=>ie(m),rowsPerPage:$,onRowsPerPageChange:t=>{je(parseInt(t.target.value,10)),ie(0)},rowsPerPageOptions:[10,20,30,50,100]})]}):e.jsx(S,{color:"text.secondary",children:"작성자를 선택해주세요."})})]})})]}),se===2&&e.jsxs(a,{ref:F.containerRef,sx:{display:"flex",gap:0,overflow:"hidden",px:1,pb:1,minHeight:650,height:"calc(100vh - 270px)"},children:[e.jsx(a,{sx:{width:F.leftPct<=0?0:`calc(${F.leftPct}% - 4px)`,minWidth:0,display:F.leftPct<=0?"none":"flex",flexDirection:"column",pr:1},children:e.jsxs(a,{sx:{...Q,flex:1},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1.25,py:.5,borderBottom:"1px solid",borderColor:"divider"},children:[e.jsx(S,{variant:"subtitle1",fontWeight:700,children:"Files"}),e.jsxs(a,{sx:{display:"flex",gap:.5},children:[e.jsx(y,{size:"small",onClick:F.collapseLeft,title:"Details 최대화",children:e.jsx(q,{fontSize:"small"})}),e.jsx(y,{size:"small",onClick:()=>F.restoreSplit(50),title:"분할 50/50",children:e.jsx(ee,{fontSize:"small"})}),e.jsx(y,{size:"small",onClick:F.collapseRight,title:"List 최대화",children:e.jsx(te,{fontSize:"small"})})]})]}),e.jsx(a,{sx:{p:1.25,borderBottom:"1px solid",borderColor:"divider"},children:e.jsx(_e,{size:"small",placeholder:"Search: commit / author / message / files...",value:A,onChange:t=>D(t.target.value),fullWidth:!0,InputProps:{startAdornment:e.jsx(ue,{position:"start",children:e.jsx(Ae,{fontSize:"small"})}),endAdornment:A?e.jsx(ue,{position:"end",children:e.jsx(y,{size:"small",onClick:()=>D(""),"aria-label":"검색어 삭제",children:e.jsx(Fe,{fontSize:"small"})})}):null}})}),e.jsx(a,{ref:he,sx:{flex:1,minHeight:0,overflow:"auto"},children:e.jsx(Ve,{dense:!0,children:Be.slice(0,Ne).map(({node:t,depth:m})=>e.jsx(Xe,{disablePadding:!0,sx:{pl:m*1.5},children:e.jsx(Ke,{onClick:()=>{t.isDir?Ge(t.id):ge(t.path)},selected:!t.isDir&&M===t.path,children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:.75,flex:1,justifyContent:"space-between"},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:.75,minWidth:0},children:[t.isDir?e.jsx(Ze,{fontSize:"small",color:"action"}):e.jsx(qe,{fontSize:"small",color:"action"}),e.jsx(S,{variant:"body2",sx:{minWidth:0},children:t.name})]}),!t.isDir&&e.jsx(S,{variant:"caption",color:"text.secondary",sx:{whiteSpace:"nowrap"},children:t.stats?.commits??0})]})})},t.id))})})]})}),e.jsx(ve,{onMouseDown:F.onSplitterDown}),e.jsx(a,{sx:{flex:1,minWidth:0,pl:1,display:"flex",flexDirection:"column"},children:e.jsxs(a,{sx:{...Q,flex:1},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:1.25,py:.5,borderBottom:"1px solid",borderColor:"divider"},children:[e.jsx(S,{variant:"subtitle1",fontWeight:700,children:"File Detail"}),e.jsxs(a,{sx:{display:"flex",gap:.5},children:[e.jsx(y,{size:"small",onClick:F.collapseLeft,title:"List 최대화",children:e.jsx(q,{fontSize:"small"})}),e.jsx(y,{size:"small",onClick:()=>F.restoreSplit(50),title:"분할 50/50",children:e.jsx(ee,{fontSize:"small"})}),e.jsx(y,{size:"small",onClick:F.collapseRight,title:"Details 최대화",children:e.jsx(te,{fontSize:"small"})})]})]}),e.jsx(a,{sx:{p:1.25,flex:1,minHeight:0,overflow:"auto"},children:M?e.jsxs(E,{spacing:1.25,children:[e.jsx(S,{variant:"subtitle2",children:M}),W&&e.jsxs(E,{direction:"row",spacing:2,flexWrap:"wrap",children:[e.jsx(b,{label:`Commits ${W.commits}`,size:"small",variant:"outlined"}),e.jsx(b,{label:`Add ${W.add}`,size:"small",color:"success"}),e.jsx(b,{label:`Mod ${W.mod}`,size:"small",color:"primary"}),e.jsx(b,{label:`Del ${W.del}`,size:"small",color:"error"}),e.jsx(b,{label:`+${W.addedLines}`,size:"small",color:"success"}),e.jsx(b,{label:`-${W.deletedLines}`,size:"small",color:"error"})]}),e.jsx(Me,{}),e.jsxs(le,{size:"small",children:[e.jsx(oe,{children:e.jsxs(I,{sx:{bgcolor:"action.hover"},children:[e.jsx(d,{sx:{fontWeight:700},children:"Status"}),e.jsx(d,{sx:{fontWeight:700},children:"Commit"}),e.jsx(d,{sx:{fontWeight:700},children:"Date"}),e.jsx(d,{sx:{fontWeight:700},children:"Message"}),e.jsx(d,{align:"right",sx:{fontWeight:700},children:"+ Added"}),e.jsx(d,{align:"right",sx:{fontWeight:700},children:"- Deleted"})]})}),e.jsx(ae,{children:V.slice(ye*Z,ye*Z+Z).map(t=>e.jsxs(I,{hover:!0,children:[e.jsx(d,{children:Ie(t.status)}),e.jsx(d,{sx:{fontFamily:"monospace",fontSize:12},children:t.commit.substring(0,7)}),e.jsx(d,{sx:{whiteSpace:"nowrap",fontSize:12},children:ce(t.date)}),e.jsx(d,{sx:{maxWidth:300,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.message}),e.jsx(d,{align:"right",children:t.added}),e.jsx(d,{align:"right",children:t.deleted})]},`${t.commit}-${t.date}`))})]}),e.jsx(me,{component:"div",count:V.length,page:ye,onPageChange:(t,m)=>de(m),rowsPerPage:Z,onRowsPerPageChange:t=>{Ee(parseInt(t.target.value,10)),de(0)},rowsPerPageOptions:[10,20,30,50,100]})]}):e.jsx(S,{color:"text.secondary",children:"파일을 선택해주세요."})})]})})]})]}),e.jsxs(et,{open:o,onClose:()=>f(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(tt,{children:"git log JSON 생성 Shell"}),e.jsxs(st,{children:[e.jsx(Te,{severity:"info",sx:{mt:1,mb:1},children:"아래 Shell을 복사해서 프로젝트 루트에서 실행하세요. 결과 파일은 git-log.json 입니다."}),e.jsx(Re,{variant:"outlined",sx:{p:1.5,bgcolor:"background.default"},children:e.jsx(a,{component:"pre",sx:{margin:0,overflowX:"auto",fontSize:12},children:e.jsx(a,{component:"code",dangerouslySetInnerHTML:{__html:x},className:"language-bash",sx:{display:"block",whiteSpace:"pre",color:"text.primary","& .token.comment":{color:"#558b2f"},"& .token.keyword":{color:"#ef6c00"},"& .token.string":{color:"#558b2f"},"& .token.function":{color:"#d81b60"},"& .token.builtin":{color:"#d81b60"},"& .token.number":{color:"#6a1b9a"},"& .token.operator":{color:"#455a64"},"& .token.punctuation":{color:"#455a64"}}})})}),e.jsx(S,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"파일을 업로드하면 로그가 분석되어 표로 표시됩니다."})]}),e.jsxs(it,{children:[e.jsx(xe,{variant:"contained",startIcon:e.jsx(nt,{fontSize:"small"}),onClick:Oe,children:"복사"}),e.jsx(xe,{variant:"outlined",onClick:()=>f(!1),children:"닫기"})]})]}),e.jsx(rt,{open:Se.open,autoHideDuration:2e3,onClose:()=>ne(t=>({...t,open:!1})),anchorOrigin:{vertical:"top",horizontal:"center"},sx:{mt:2},children:e.jsx(Te,{severity:Se.severity,variant:"filled",onClose:()=>ne(t=>({...t,open:!1})),children:Se.message})})]})},Pt=()=>{const i=mt();return e.jsx(St,{controller:i})};export{Pt as default};
