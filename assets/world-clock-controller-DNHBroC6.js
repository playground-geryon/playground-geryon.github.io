import{r as e}from"./vendor-DuO8O3Ni.js";const M=["asia-seoul","asia-tokyo","america-new-york","america-los-angeles","europe-london","europe-paris","oceania-sydney","africa-cairo","india-delhi","oceania-auckland"],Z=r=>{const o=Math.round(r),c=o>=0?"+":"-",u=Math.abs(o),s=Math.floor(u/60),i=u%60;return`UTC ${c}${String(s).padStart(2,"0")}:${String(i).padStart(2,"0")}`},I=(r,o)=>{const c=(r-o)/60;return c===0?"동일":`${c>0?"+":""}${c.toFixed(0)}시간`},N=(r,o)=>{const u=new Intl.DateTimeFormat("en-US",{timeZone:o,hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).formatToParts(r),s=y=>u.find(g=>g.type===y)?.value??"0",i=Number(s("year")),m=Number(s("month")),f=Number(s("day")),d=Number(s("hour")),l=Number(s("minute")),h=Number(s("second"));return(Date.UTC(i,m-1,f,d,l,h)-r.getTime())/6e4},$=()=>{const r=Intl.DateTimeFormat().resolvedOptions().timeZone,[o,c]=e.useState(()=>new Date),[u,s]=e.useState(""),[i,m]=e.useState([]),[f,d]=e.useState([]);e.useEffect(()=>{let t=!0;return fetch("/data/world_clock.json").then(a=>{if(!a.ok)throw new Error(`Failed to load time zones: ${a.status}`);return a.json()}).then(a=>{t&&d(a)}).catch(()=>{t&&d([])}),()=>{t=!1}},[]),e.useEffect(()=>{const t=setInterval(()=>c(new Date),1e3);return()=>clearInterval(t)},[]);const l=e.useMemo(()=>{const t={};return f.forEach(n=>{t[n.id]=n}),t},[f]),h=e.useMemo(()=>i.map(t=>l[t]).filter(Boolean),[i,l]),k=e.useMemo(()=>M.map(t=>l[t]).filter(Boolean),[l]),y=e.useCallback(t=>new Intl.DateTimeFormat("ko-KR",{timeZone:t,year:"numeric",month:"long",day:"numeric",weekday:"long"}).format(o),[o]),g=e.useCallback(t=>new Intl.DateTimeFormat("ko-KR",{timeZone:t,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(o),[o]),b=e.useMemo(()=>-o.getTimezoneOffset(),[o]),C=e.useMemo(()=>I(0,b),[b]),T=e.useCallback(t=>{t&&m(n=>n.includes(t)?n:[...n,t])},[]),S=e.useCallback(t=>{t&&m(n=>n.includes(t)?n.filter(a=>a!==t):[...n,t])},[]),w=e.useCallback(t=>{m(n=>n.filter(a=>a!==t))},[]),p=e.useCallback(()=>s(""),[]),D=e.useCallback(t=>N(o,t),[o]);return{timeZones:f,localTimeZone:r,searchInput:u,setSearchInput:s,selectedCityIds:i,selectedCityZones:h,quickZones:k,formatDateOnly:y,formatTime:g,localOffset:b,utcDiffLabel:C,addCityById:T,toggleCityById:S,handleRemoveCity:w,resetSearch:p,getZoneOffset:D}};export{Z as f,$ as u};
